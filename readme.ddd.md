1. 怎么对整个电商网站进行领域驱动设计？
2. 怎么通过领域驱动设计系统？
3. 怎么绘制领域模型
   
### 问题域
    真实世界的业务域问题叫做问题域，业务规则与知识叫做“业务领域知识”
比如： 电商网站可以分为 用户选购，下单，支付，物流等多个子域
 一个复杂系统的领域驱动设计，就是以子域为中心进行领域建模，绘制出一张张的领域模型设计，以此来指导开发，这被称之为 限界上下文
 每个限界上下文实现的都是软件变化同一个原因的业务
每个衔接上下文内实现的功能都是软件变化的同一个原因的代码（很多微服务，是基于限界上下文来拆分的）
限界上下文可以是逻辑边界（运行在同一个jvm）也可以是运行在多个jvm中

微服务拆分困局：--> 拆分，拆分的痛点就是如何做到小而专
微服务设计需要高内聚，低耦合
拆分实现方式：
1. 从ddd 开始需求分析，领域建模，主键建立起多个问题子域
2. 将问题子域落实到限界上下文，他们之间的关联形成上下文地图
3. 各个自娱落实到微服务中贫血模型或充血模型的设计，从而在微服务之间一句上下文地图形成接口


### 领域驱动设计作为方法论来拆分系统

DDD 该如何实现
1. 客户知道领域知识，业务难题，但是不知道技术是否理解自己的描述
2. 技术能解决哪些问题，也知道是如何设计的
经常会出现客户以为将清楚了，技术也以为自己听清楚了，最后做出来的东西不能满足业务

通过统一建模语言

那么如何了解业务呢？

从客户哪里去学习
1. 注意捕获客户在描述业务过程中的那些专业术语
2. 努力学会用这些专用数据与客户探讨业务
总之，用客户的语言与客户沟通

### 事件风暴（Event storming）

一种基于工作坊的DDD,事件方法，
可以快速发现业务领域中正在发生的事件，指导领域建模以及程序开发
事件 即事实（Event as fact） 即在业务领域中哪些已经发生的事件就是事实
1. 召开事件风暴会议
2. 与业务专家开始梳理当前的业务中有哪些领域事件
3. 在命名时候应该采用过去时态
4. 比如“用户选餐”是不是领域事件呢？ 注意领域事件是那些已经发生，并且需要保存的重要事实。用户选餐知识一个查询操作，它不是领域事件。
5. DDD 往往应用于系统增删改的业务场景中
6. 针对每一个领域事件，项目组成员，围绕它进行业务分析，增加各种命令与事件，进而思考与之相关的资源，外部系统与事件
7. 分析是否为聚合关系，分析谁为聚合根，

> **统一语言建模--- 指导思想**  
> **事件风暴会议--- 实践方法**

### DDD 是如何解决微服务拆分难题的？
微服务拆分的原则，小而专，低耦合，将代码修改的范围缩小打这个微服务内。
通过DDD进行建模，再基于领域模型进行限界上下文拆分，能保证系统的设计，在限界上下文内高内聚，在限界上下文间低耦合
1. 领域建模：
   将一个系统划分为多个子域，每个子域都是一个独立的业务场景，每个子域的实现就是限界上下文，他们之间的关联关系就是上下文地图
#### 领域事件该如何通知？
消息队列实现领域事件在不同系统之间的，因为很多系统都会有这样的操作，所以建议将这个消息队列下沉到中台中
### 真谛
1. 对业务理解比价哦粗略时，从主要流程开始领域建模
2. 不断往领域模型中加东西，每次添加新东西时能运用”两顶帽子“的方式先重构，再加新功能
3. 最后完成所有功能，
这样的设计叫做小步快跑
